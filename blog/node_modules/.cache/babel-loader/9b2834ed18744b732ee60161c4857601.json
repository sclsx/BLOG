{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"LinkManger\",\n\n  data() {\n    return {\n      tableData: []\n    };\n  },\n\n  methods: {\n    async getLinkData() {\n      let {\n        data\n      } = await this.$axios({\n        method: 'GET',\n        url: '/get/link'\n      });\n\n      if (data.code) {\n        return this.$message.error(data.msg);\n      }\n\n      this.tableData = data.data;\n    },\n\n    async deleteLink(item) {\n      let {\n        data\n      } = await this.$axios({\n        method: 'delete',\n        url: '/adminServer/link/delete',\n        data: {\n          _id: item._id\n        }\n      });\n\n      if (data.code) {\n        return this.$message.error(data.msg);\n      }\n\n      this.$message.success('删除完成'), this.getLinkData();\n    }\n\n  },\n\n  created() {\n    this.getLinkData();\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;EACAA,kBADA;;EAGAC;IACA;MACAC;IADA;EAGA,CAPA;;EAQAC;IACA;MACA;QAAAF;MAAA;QACAG,aADA;QAEAC;MAFA;;MAIA;QACA;MACA;;MACA;IACA,CAVA;;IAWA;MACA;QAAAJ;MAAA;QACAG,gBADA;QAEAC,+BAFA;QAGAJ;UACAK;QADA;MAHA;;MAOA;QACA;MACA;;MACA,+BACA,kBADA;IAEA;;EAxBA,CARA;;EAkCAC;IACA;EACA;;AApCA","names":["name","data","tableData","methods","method","url","_id","created"],"sourceRoot":"src/components/Admin","sources":["LinkManger.vue"],"sourcesContent":["<template>\r\n    <div id=\"LinkManger\">\r\n        <el-table\r\n            :data=\"tableData\"\r\n            border\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n                prop=\"name\"\r\n                label=\"名称\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"home\"\r\n                label=\"首页\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"logo\"\r\n                label=\"图标\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"des\"\r\n                label=\"描述\"\r\n            >\r\n                <template #default=\"scope\">\r\n                    <el-input v-model=\"scope.row.des\"></el-input>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                fixed=\"right\"\r\n                label=\"操作\"\r\n            >\r\n                <template #default=\"scope\">\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"deleteLink(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"LinkManger\",\r\n\r\n    data() {\r\n        return {\r\n            tableData: []\r\n        }\r\n    },\r\n    methods: {\r\n        async getLinkData() {\r\n            let {data} = await this.$axios({\r\n                method: 'GET',\r\n                url: '/get/link'\r\n            })\r\n            if(data.code) {\r\n                return this.$message.error(data.msg)\r\n            }\r\n            this.tableData = data.data\r\n        },\r\n        async deleteLink(item){\r\n            let {data} = await this.$axios({\r\n                method: 'delete',\r\n                url: '/adminServer/link/delete',\r\n                data: {\r\n                    _id: item._id\r\n                }\r\n            })\r\n            if(data.code) {\r\n                return this.$message.error(data.msg)\r\n            }\r\n            this.$message.success('删除完成'),\r\n            this.getLinkData()\r\n        }\r\n    },\r\n    created() {\r\n            this.getLinkData()\r\n        }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}