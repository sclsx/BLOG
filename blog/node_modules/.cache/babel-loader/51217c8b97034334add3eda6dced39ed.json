{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/hp/Desktop/vue\\u5B9E\\u62181/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/hp/Desktop/vue\\u5B9E\\u62181/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LinkAdd from \"./Admin/LinkAdd.vue\";\nimport LinkManger from \"./Admin/LinkManger.vue\";\nimport ArticleAdd from \"./Admin/ArticleAdd.vue\";\nexport default {\n  name: \"AdminPage\",\n  data: function data() {\n    return {\n      activeName: 'second'\n    };\n  },\n  components: {\n    LinkAdd: LinkAdd,\n    LinkManger: LinkManger,\n    ArticleAdd: ArticleAdd\n  },\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _yield$_this$$axios, data;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.$axios({\n                method: \"POST\",\n                url: \"/adminServer/check\"\n              });\n\n            case 2:\n              _yield$_this$$axios = _context.sent;\n              data = _yield$_this$$axios.data;\n\n              if (data.code) {\n                _this.$router.go(-1);\n\n                _this.$message.error(\"请以管理员账号登录\");\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IACA;MACAC;IADA;EAGA,CANA;EAOAC;IACAC,gBADA;IAEAC,sBAFA;IAGAC;EAHA,CAPA;EAYAC,OAZA,qBAYA;IAAA;;IAAA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OAEA;gBACAC,cADA;gBAEAC;cAFA,EAFA;;YAAA;cAAA;cAEAR,IAFA,uBAEAA,IAFA;;cAMA;gBACA;;gBACA;cACA;;YATA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAUA;AAtBA","names":["name","data","activeName","components","LinkAdd","LinkManger","ArticleAdd","created","method","url"],"sourceRoot":"src/components","sources":["AdminPage.vue"],"sourcesContent":["<template>\r\n    <div id=\"AdminPage\">\r\n        <article>\r\n            <el-tabs tab-position=\"left\">\r\n                <el-tab-pane label=\"发表文章\" name=\"first\">\r\n                    <\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"文章管理\" name=\"second\">文章管理</el-tab-pane>\r\n                <el-tab-pane label=\"添加友链\" name=\"third\">\r\n                    <LinkAdd/>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"友链管理\" name=\"fourth\">\r\n                    <LinkManger/>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n        </article>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport LinkAdd from \"./Admin/LinkAdd.vue\"\r\nimport LinkManger from \"./Admin/LinkManger.vue\"\r\nimport ArticleAdd from \"./Admin/ArticleAdd.vue\"\r\nexport default {\r\n    name: \"AdminPage\",\r\n    data(){\r\n        return {\r\n            activeName: 'second'\r\n        }\r\n    },\r\n    components: {\r\n        LinkAdd,\r\n        LinkManger,\r\n        ArticleAdd\r\n    },\r\n    async created() {\r\n    //向后端发请求，验证管理员权限\r\n        let {data} = await this.$axios({\r\n            method: \"POST\",\r\n            url: \"/adminServer/check\"\r\n        })\r\n        if (data.code){\r\n            this.$router.go(-1)\r\n            this.$message.error(\"请以管理员账号登录\")\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#AdminPage{\r\n    article {\r\n        min-height: 721px;\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n        margin-bottom: 15px;\r\n        box-shadow: 0 0 4px #ddd;\r\n        padding: 25px 20px;\r\n        background-color: #fff;\r\n        font-family: LSX;\r\n        border-radius: 5px;\r\n        transition: all .3s;\r\n        &:hover{\r\n            box-shadow: #ccc 0px 10px 10px;\r\n        }\r\n\r\n        h2 {\r\n        margin-bottom: 15px;\r\n        font-size: 20px;\r\n        letter-spacing: 3px;\r\n        line-height: 24px;\r\n        border-left: 5px solid #97FFFF;\r\n        text-indent: 10px;\r\n        }\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}